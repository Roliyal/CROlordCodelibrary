{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport LoginComponent from \"../components/LoginComponent.vue\";\nimport GuessNumberComponent from \"../components/GuessNumberComponent.vue\";\nimport ScoreboardComponent from \"../components/ScoreboardComponent.vue\";\nimport authApi from \"../auth-api\"; // 更新这里\n\nconst routes = [{\n  path: \"/login\",\n  component: LoginComponent\n}, {\n  path: \"/game\",\n  component: GuessNumberComponent\n}, {\n  path: \"/scoreboard\",\n  component: ScoreboardComponent\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.path !== \"/login\" && !authApi.isAuthenticated) {\n    // 更新这里\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","LoginComponent","GuessNumberComponent","ScoreboardComponent","authApi","routes","path","component","router","history","process","env","BASE_URL","beforeEach","to","from","next","isAuthenticated"],"sources":["/Users/raywong/Documents/CROlordCodelibrary/Chapter2KubernetesApplicationBuild/Unit2CodeLibrary/Microservice/front-guess/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport LoginComponent from \"../components/LoginComponent.vue\";\nimport GuessNumberComponent from \"../components/GuessNumberComponent.vue\";\nimport ScoreboardComponent from \"../components/ScoreboardComponent.vue\";\nimport authApi from \"../auth-api\"; // 更新这里\n\nconst routes = [\n    { path: \"/login\", component: LoginComponent },\n    { path: \"/game\", component: GuessNumberComponent },\n    { path: \"/scoreboard\", component: ScoreboardComponent },\n];\n\nconst router = createRouter({\n    history: createWebHistory(process.env.BASE_URL),\n    routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n    if (to.path !== \"/login\" && !authApi.isAuthenticated) { // 更新这里\n        next(\"/login\");\n    } else {\n        next();\n    }\n});\n\nexport default router;\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,oBAAoB,MAAM,wCAAwC;AACzE,OAAOC,mBAAmB,MAAM,uCAAuC;AACvE,OAAOC,OAAO,MAAM,aAAa,CAAC,CAAC;;AAEnC,MAAMC,MAAM,GAAG,CACX;EAAEC,IAAI,EAAE,QAAQ;EAAEC,SAAS,EAAEN;AAAe,CAAC,EAC7C;EAAEK,IAAI,EAAE,OAAO;EAAEC,SAAS,EAAEL;AAAqB,CAAC,EAClD;EAAEI,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEJ;AAAoB,CAAC,CAC1D;AAED,MAAMK,MAAM,GAAGT,YAAY,CAAC;EACxBU,OAAO,EAAET,gBAAgB,CAACU,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CP;AACJ,CAAC,CAAC;AAEFG,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,IAAIF,EAAE,CAACR,IAAI,KAAK,QAAQ,IAAI,CAACF,OAAO,CAACa,eAAe,EAAE;IAAE;IACpDD,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}