{"ast":null,"code":"import axios from \"axios\";\nconst apiClient = axios.create({\n  baseURL: \"/\",\n  withCredentials: false,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default {\n  isAuthenticated: false,\n  async authenticate(username, password) {\n    try {\n      const response = await axios.post(\"http://localhost:8083/authenticate\", {\n        username,\n        password\n      });\n      if (response.data && response.data.token) {\n        return {\n          authToken: response.data.token,\n          userID: response.data.userID // 确保这里获取了 userID\n        };\n      } else {\n        return null;\n      }\n    } catch (error) {\n      console.error(\"Error authenticating:\", error);\n      return null;\n    }\n  }\n};","map":{"version":3,"names":["axios","apiClient","create","baseURL","withCredentials","headers","Accept","isAuthenticated","authenticate","username","password","response","post","data","token","authToken","userID","error","console"],"sources":["/Users/raywong/Documents/CROlordCodelibrary/Chapter2KubernetesApplicationBuild/Unit2CodeLibrary/Microservice/front-guess/src/auth-api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiClient = axios.create({\n    baseURL: \"/\",\n    withCredentials: false,\n    headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n    },\n});\n\nexport default {\n    isAuthenticated: false,\n\n    async authenticate(username, password) {\n        try {\n            const response = await axios.post(\"http://localhost:8083/authenticate\", {\n                username,\n                password,\n            });\n\n            if (response.data && response.data.token) {\n                return {\n                    authToken: response.data.token,\n                    userID: response.data.userID, // 确保这里获取了 userID\n                };\n            } else {\n                return null;\n            }\n        } catch (error) {\n            console.error(\"Error authenticating:\", error);\n            return null;\n        }\n    },\n\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC3BC,OAAO,EAAE,GAAG;EACZC,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE;IACLC,MAAM,EAAE,kBAAkB;IAC1B,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEF,eAAe;EACXC,eAAe,EAAE,KAAK;EAEtB,MAAMC,YAAYA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IACnC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,oCAAoC,EAAE;QACpEH,QAAQ;QACRC;MACJ,CAAC,CAAC;MAEF,IAAIC,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACtC,OAAO;UACHC,SAAS,EAAEJ,QAAQ,CAACE,IAAI,CAACC,KAAK;UAC9BE,MAAM,EAAEL,QAAQ,CAACE,IAAI,CAACG,MAAM,CAAE;QAClC,CAAC;MACL,CAAC,MAAM;QACH,OAAO,IAAI;MACf;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,IAAI;IACf;EACJ;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}